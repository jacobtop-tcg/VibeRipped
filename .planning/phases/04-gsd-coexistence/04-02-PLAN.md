---
phase: 04-gsd-coexistence
plan: 02
type: execute
wave: 2
depends_on: ["04-01"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Orchestrator displays composite statusline in real Claude Code session"
    - "VibeRipped segment is visually distinct from GSD segment"
    - "User can identify GSD vs VibeRipped at a glance"
    - "Orchestrator does not cause flicker or overwrite other provider output"
  artifacts: []
  key_links:
    - from: "statusline-orchestrator.sh"
      to: "Claude Code statusLine setting"
      via: "Claude Code settings.json statusLine field"
      pattern: "statusLine.*orchestrator"
---

<objective>
Verify the orchestrator works with real Claude Code by configuring it as the active statusline provider and confirming both GSD and VibeRipped segments appear correctly.

Purpose: Ensures the orchestrator pattern works in production, not just in isolated tests. Visual identity and coexistence must be validated by a human observing the actual statusline.
Output: Verified orchestrator working in Claude Code. Phase 4 complete.
</objective>

<execution_context>
@/Users/jacob/.claude/get-shit-done/workflows/execute-plan.md
@/Users/jacob/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/04-gsd-coexistence/04-01-SUMMARY.md
@statusline-orchestrator.sh
</context>

<tasks>

<task type="auto">
  <name>Task 1: Configure Claude Code to use orchestrator as statusline provider</name>
  <files></files>
  <action>
    1. Read the user's Claude Code settings to find the current statusLine configuration:
    `cat ~/.claude/settings.json` (or wherever Claude Code stores settings)

    2. Note the current statusLine value (likely points to gsd-statusline.js or statusline-test-wrapper.sh).

    3. Update the statusLine setting to point to the orchestrator:
    Set `statusLine` to the absolute path of `statusline-orchestrator.sh` in the VibeRipped project directory.

    4. Verify the settings file is valid JSON after modification.

    Important: Record the original statusLine value so it can be referenced in the checkpoint task. The orchestrator IS the replacement â€” it calls both GSD and VibeRipped internally, so replacing the single-provider path with the orchestrator path is the correct production configuration.
  </action>
  <verify>
    Read Claude Code settings and confirm statusLine points to statusline-orchestrator.sh.
  </verify>
  <done>Claude Code settings updated to use statusline-orchestrator.sh as the statusline provider.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: Verify composite statusline in live Claude Code session</name>
  <files></files>
  <action>
    Present the user with verification instructions for the composite statusline. The orchestrator shell script has been configured as Claude Code's statusline provider. It calls both GSD statusline (model info, task, context bar) and VibeRipped statusline (exercise prompt with flexed biceps prefix) and concatenates them with a "â”‚" separator.

    Verification steps for user:
    1. Open a new Claude Code session (or wait for the current session to refresh statusline)
    2. Send a prompt that triggers Claude Code processing (any non-trivial request)
    3. Observe the statusline at the bottom of the terminal while Claude is processing
    4. Verify:
       a. GSD segment appears (model name, directory, context bar)
       b. VibeRipped segment appears with flexed biceps emoji prefix (e.g., "ðŸ’ª Push-ups x10")
       c. A "â”‚" separator visually divides the two segments
       d. Both segments are readable and not overlapping
       e. When processing completes, VibeRipped segment disappears (GSD remains)
    5. Trigger another prompt to confirm VibeRipped exercises rotate (next exercise in pool)

    Wait for user to type "approved" or describe issues.
  </action>
  <verify>User confirms both GSD and VibeRipped segments display correctly with clear visual separation in real Claude Code usage.</verify>
  <done>Human verified: composite statusline works in production. Both providers display side-by-side with distinct visual identities, separated by "â”‚", no flicker or crosstalk.</done>
</task>

</tasks>

<verification>
1. Claude Code statusLine setting points to statusline-orchestrator.sh
2. Human verified: composite statusline displays both GSD and VibeRipped segments
3. Human verified: VibeRipped segment has flexed biceps emoji prefix for visual identity
4. Human verified: segments separated by "â”‚" without flicker or overwriting
</verification>

<success_criteria>
- Orchestrator is the active Claude Code statusline provider
- Both GSD and VibeRipped display side-by-side in real usage
- Visual identity is clear â€” user can tell which segment is which at a glance
- No flicker, overwriting, or crosstalk between providers
</success_criteria>

<output>
After completion, create `.planning/phases/04-gsd-coexistence/04-02-SUMMARY.md`
</output>
